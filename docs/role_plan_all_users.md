# План работы системы для всех пользователей

Документ фиксирует рабочий сценарий по ролям в кейсе №2 «Управление столовой».

## 1. Ученик

1. Переходит на страницу регистрации и создает аккаунт.
2. Система назначает роль `student` автоматически.
3. Ученик входит в кабинет и видит меню.
4. Выполняет демо-оплату питания.
5. Отмечает получение питания.
6. При необходимости заполняет аллергии и предпочтения.
7. Оставляет отзыв по блюдам.

Результат:
- корректный личный цикл пользователя закрыт без участия администратора;
- повторная отметка получения блокируется.

## 2. Повар

1. Входит в кабинет повара.
2. Отмечает фактическую выдачу блюд.
3. Контролирует остатки и фиксирует нехватку продуктов.
4. Формирует заявку на закупку с корректными значениями количества и цены.
5. Отслеживает статус заявки после решения администратора.

Результат:
- закупочный процесс инициируется строго из роли повара;
- данные устойчивы к ошибочному числовому вводу.

## 3. Администратор

1. Входит в админ-панель.
2. Проверяет метрики за выбранный период (`date_from/date_to`).
3. Обрабатывает закупочные заявки (одобрение/отклонение).
4. Управляет пользователями: смена роли, блок/разблок.
5. Проверяет журнал админ-действий.
6. Выгружает CSV-отчет для защиты и проверки.

Результат:
- обеспечено централизованное управление;
- доступна отчетность и трассировка критичных действий.

## 4. Общие правила

- Все POST-действия защищены CSRF.
- Доступ к страницам ограничен RBAC.
- Пользовательские интерфейсы русифицированы.
- Даты отображаются в формате `DD.MM.YYYY HH:MM:SS`.
- Числа отображаются без scientific notation.
