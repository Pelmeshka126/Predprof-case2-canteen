# Сценарий демонстрации (регламентный)

## Подготовка

1. Запустить проект: `./scripts/run_local.sh`.
2. Открыть `http://127.0.0.1:5000/login`.
3. Держать под рукой три демо-аккаунта: ученик, повар, администратор.

## Последовательность показа

1. Регистрация
- Показать страницу регистрации.
- Подчеркнуть: саморегистрация только для роли «Ученик».

2. Кабинет ученика
- Вход под учеником.
- Показать меню и оплату.
- Отметить получение питания.
- Повторно отметить то же блюдо и показать корректную ошибку.
- Сохранить аллергии/предпочтения.
- Оставить отзыв.

3. Кабинет повара
- Вход под поваром.
- Показать склад и блок низких остатков.
- Зафиксировать выдачу.
- Создать заявку на закупку с дробями (`12.345` и `71.50`).
- Показать таблицу заявок без scientific notation.

4. Кабинет администратора
- Вход под администратором.
- Показать фильтр периода (с/по).
- Показать метрики за период: оплаты, получения, выдача, затраты, баланс.
- Одобрить заявку.
- Скачать CSV-отчет.

5. Управление пользователями
- Открыть `/admin/users`.
- Сменить роль тестового пользователя.
- Заблокировать пользователя.
- Показать невозможность входа заблокированного аккаунта.

6. Аудит действий
- На `admin dashboard` показать блок «Последние действия администратора».

## Что отдельно проговорить

- Включена CSRF-защита всех POST-форм.
- Есть версионные миграции и runtime-нормализация legacy-данных.
- Интерфейс полностью русифицирован.
- Подготовлены визуальные скриншоты 5 брейкпоинтов в `output/playwright_v3/`.
